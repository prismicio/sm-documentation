<template>
	<main>
		<header id="header">
			<div class="hero">
				<section class="hero_form">
				<div class="content">
					<div>
					<span>Beta Release</span>
					<h1>
						Devs make the parts, users make the websites.
					</h1>
					<div class="forwho">
						Currently for <b class="nuxtjs"><img
						src="https://fr.nuxtjs.org/logos/nuxtjs-typo-white.svg"
						alt="NuxtJS"
						/>,</b>
						<b>
							<svg
								height="28"
								viewBox="0 0 148 90" 
								version="1.1" 
								xmlns:xlink="http://www.w3.org/1999/xlink"
								class="nextjs">
								<path d="M34.992 23.495h27.855v2.219H37.546v16.699h23.792v2.219H37.546v18.334h25.591v2.219H34.992v-41.69zm30.35 0h2.96l13.115 18.334 13.405-18.334L113.055.207 83.1 43.756l15.436 21.429H95.46L81.417 45.683 67.316 65.185h-3.018L79.85 43.756 65.343 23.495zm34.297 2.219v-2.219h31.742v2.219h-14.623v39.47h-2.554v-39.47H99.64zM.145 23.495h3.192l44.011 66.003L29.16 65.185 2.814 26.648l-.116 38.537H.145v-41.69zm130.98 38.801c-.523 0-.914-.405-.914-.928 0-.524.391-.929.913-.929.528 0 .913.405.913.929 0 .523-.385.928-.913.928zm2.508-2.443H135c.019.742.56 1.24 1.354 1.24.888 0 1.391-.535 1.391-1.539v-6.356h1.391v6.362c0 1.808-1.043 2.849-2.77 2.849-1.62 0-2.732-1.01-2.732-2.556zm7.322-.08h1.379c.118.853.95 1.395 2.149 1.395 1.117 0 1.937-.58 1.937-1.377 0-.685-.521-1.097-1.708-1.377l-1.155-.28c-1.62-.38-2.36-1.166-2.36-2.487 0-1.602 1.304-2.668 3.26-2.668 1.82 0 3.15 1.066 3.23 2.58h-1.354c-.13-.828-.85-1.346-1.894-1.346-1.1 0-1.832.53-1.832 1.34 0 .642.472 1.01 1.64 1.284l.987.243c1.838.43 2.596 1.178 2.596 2.53 0 1.72-1.33 2.799-3.453 2.799-1.987 0-3.323-1.029-3.422-2.637z" fill="#fff" fill-rule="nonzero"></path>
							</svg></b> & <b class="prismic">
							<img
						src="~/static/prismic-logo-white.svg"
						alt="Prismic"
						/></b>
					</div>
					<div class="CTA">
						<a class="how_it_work" href="#video"><img src="https://images.prismic.io/slice-machine/6a78160b-7154-4a6d-8570-61ac208b6859_play-button.svg?auto=compress,format" />See how it works</a> <a class="get_started" href="/documentation">Get started ‚Üí</a>
					</div>
					</div>
				</div>
				</section>

				<section class="illustration">
				<div class="hero_image"></div>
				</section>
			</div>
		</header>

		<div class="wrapper">
			<div id="video">
			<section>
				<h2>See how Slice Machine works:</h2>
				<p>(in roughly 2 minutes)</p>
				<ul>
				<li>Free library to get you started</li>
				<li>Library that is 100% customizable </li>
				<li>Integrate your own components</li>
				</ul>
			</section>
			<section class="video_player">
				<iframe
					width="100%"
					height="100%"
					src="https://www.youtube.com/embed/aDbZRabR8Og?rel=0&controls=0"
					frameborder="0"
					allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
					allowfullscreen>
				</iframe>
			</section>
			</div>
		</div>

		<div id="advantages" class="wrapper">
		<div class="advantage-content">
			<div data-id="0" class="advantage-wrap">
			<img
				src="https://images.prismic.io/slice-machine/c3869e3c-abda-4ee8-951b-0b70a2a39096_Frame+86.png?auto=compress,format"
				alt="Building Blocks"
			/>
			<span>Sections</span>
			<h3>Building Blocks</h3>
			<p>
				Making micro-components is easy. Making website sections is harder.
				Use Slice Machine to easily create, reuse, and share your sections
				with your entire team.
			</p>
			</div>

			<div data-id="1" class="advantage-wrap">
			<img
				src="https://images.prismic.io/slice-machine/811ae1d9-0ca7-43ec-8d9d-da73e97de235_Frame+87.png?auto=compress,format"
				alt="Customize and contribute"
			/>
			<span>Variables</span>
			<h3>Customize and contribute</h3>
			<p>
				Right out of the box, you have an awesome library of components to
				use however you need. Personalize it with CSS variables, fork it,
				change it, add your own components. It‚Äôs up to you.
			</p>
			</div>

			<div data-id="2" class="advantage-wrap">
			<img
				src="https://images.prismic.io/slice-machine/422bd3be-21dd-4714-a251-8afab0decc56_Frame+88.png?auto=compress,format"
				alt="Boosted by a backend"
			/>
			<span>Backend</span>
			<h3>Boosted by a backend</h3>
			<p>
				So you've got your sections, but now you need the content. With
				Prismic, content writers have the power to create beautiful pages
				faster than they could build a lego house.
			</p>
			<img
				src="https://images.prismic.io/slice-machine/a864f3f1-3e6a-4e67-aa81-dfd32aa20062_white-logops.svg?auto=compress,format"
				alt="Prismic Logo"
				class="backend-logo"
			/>
			</div>
		</div>

		<div class="advantage-list">
			<div class="advantage-wrapper">
			<div class="advantage-core">
				<div class="advantage-illustration">
				<div class="small-layout">
					<div class="wraper">
					<div class="slice-1">
						<div class="content">
						<span class="title">Editorial section</span>
						<span class="paragraph">
							Hello! This is an example of Editorial section component
							from our starter library.
						</span>
						<span class="button">Button</span>
						</div>
						<div class="illustration"></div>
					</div>

					<div class="slice-2">
						<div class="illustration"></div>
						<div class="content">
						<ul>
							<h2>Frequently asked questions section</h2>
							<li>
							<details>
								<summary open>First Question?</summary>
								<div>I'm good buddy!</div>
							</details>
							</li>
							<li>
							<details>
								<summary>Second Question?</summary>
								<div>My name is John</div>
							</details>
							</li>
							<li>
							<details>
								<summary>Third Question?</summary>
								<div>Reponse</div>
							</details>
							</li>
						</ul>
						</div>
					</div>

					<div class="backend"></div>
					</div>
				</div>
				</div>
			</div>
			</div>
		</div>
		</div>

		<div class="wrapper">
		<div id="testimonial">
			<section class="contributors">
			<h2>High Quality Components</h2>
			<p>
				We‚Äôve partnered with Sara Soueidan and other community members to
				create high quality component libraries.
			</p>

			<div class="testimonial_message">
				<p>
				‚ÄúI built this library of components to be a resilient foundation for your projects. They are progressively enhanced, cross-browser compatible, responsive, accessible, and customizable components, created with semantic markup, modern CSS, JavaScript, and lots of love üíú .‚Äù
				</p>
				<div>
				<strong><a href="https://www.sarasoueidan.com/">Sara Soueidan</a></strong>
				<span>Freelance lead front-end UI developer</span>
				</div>
			</div>
			</section>
			<section class="description">
			<dl>
				<dt>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="28"
					height="28"
					viewBox="0 0 24 24"
					fill="none"
					stroke="#ffffff"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
				>
					<rect x="3" y="3" width="18" height="18" rx="2" />
					<path d="M3 9h18" />
				</svg>
				Cross-browser compatible
				</dt>
				<dd>
				All those annoying, but necessary, browser compatibility
				considerations have been thoughtfully handled for you.
				</dd>
				<dt>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="28"
					height="28"
					viewBox="0 0 24 24"
					fill="none"
					stroke="#ffffff"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
				>
					<rect
					x="4"
					y="2"
					width="16"
					height="20"
					rx="2"
					ry="2"
					transform="rotate(180 12 12)"
					></rect>
					<line x1="12" y1="18" x2="12" y2="18"></line></svg
				>Responsive
				</dt>
				<dd>
				Responsive components are a guarantee that any user on any device
				will have the best experience possible on your website.
				</dd>
				<dt>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="28"
					height="28"
					viewBox="0 0 24 24"
					fill="none"
					stroke="#ffffff"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
				>
					<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
					<circle cx="12" cy="12" r="3"></circle></svg
				>Accessible
				</dt>
				<dd>
				All components in this library are accessible. ARIA attributes are
				used when and where needed.
				</dd>
			</dl>
			<p class="customizable">100% Customizable</p>
			</section>
		</div>
		</div>

		<div class="wrapper" id="faq">
			<section>
				<h2><img src="https://images.prismic.io/slice-machine/aac89f9b-7285-428f-8fb5-80269e535f50_ico-prismic.svg?auto=compress,format" />So wait... what‚Äôs Prismic?</h2>
				<p>There‚Äôs every chance that you‚Äôve made it this far without knowing what Prismic is. We‚Äôre slightly offended, but we‚Äôll get over it.</p>
				<p>Prismic is a Headless CMS that offers unlimited custom types, API calls, and a bunch of other great things. You should really check it out.</p>
				<a href="https://prismic.io/">Learn more ‚Üí</a>
			</section>

			<section>
				<h2><img src="https://images.prismic.io/slice-machine/536e59b7-8fd0-4c0a-87a7-4821a0210248_ico-slicemachine.svg?auto=compress,format" />Why Slice Machine?</h2>
				<p>API-based CMS‚Äôs have created a gap between the components that you use and your data and we are trying to bridge that gap with Slices. Slices are how we refer to the components that you create in the Prismic interface.</p>
				<p>We wanted to find a way to take Slices to the next level and to allow developers to adopt a totally component-based approach to how they build websites and create pages.</p>
			</section>
		</div>

		<div class="wrapper">
		<div id="call-to-action">
			<h3>Slice Machine Newsletter</h3>
			<p>Get the latest Slice Machine news to your inbox, curated by the core team.</p>
			<form
			class="beta-access"
			action="https://prismic.us4.list-manage.com/subscribe/post?u=17c9d70fcbff72b9888bf2b9e&amp;id=213082902f"
			method="post"
			id="mc-embedded-subscribe-form"
			name="mc-embedded-subscribe-form"
			target="_blank"
			novalidate
			>
			<input
				type="email"
				placeholder="Your email address"
				name="EMAIL"
				id="mce-EMAIL"
			/>
			<div
				style="position: absolute; left: -5000px;"
				aria-hidden="true"
			>
				<input
				type="text"
				name="b_17c9d70fcbff72b9888bf2b9e_213082902f"
				tabindex="-1"
				value=""
				/>
			</div>
			<input
				type="submit"
				value="Subscribe"
				name="subscribe"
				id="mc-embedded-subscribe"
			/>
			</form>
		</div>
		</div>
	</main>
</template>

<script>
export default {
	methods: {
		toggleBodyClass(addRemoveClass, className) {
			const el = document.body;

			if (addRemoveClass === 'addClass') {
				el.classList.add(className);
			} else {
				el.classList.remove(className);
			}
		},
		myInitCode() {
			let images = document.querySelector(".advantage-illustration");
			const observer = new IntersectionObserver(
				entries => {
				entries.forEach(({ isIntersecting, target }) => {
					target.classList.add("low-opacity");
					const {
					dataset: { id }
					} = target;
					isIntersecting;

					if (isIntersecting) {
					onIntersec(images[Number(id)], target);
					}
					//? onIntersec(images[Number(id)], target)
					//: suce(images[Number(id)], target);

					if (isIntersecting && target.dataset.id === "0") {
					images.classList.add("show", "step-1");
					images.classList.remove("step-2", "step-3");
					}
					if (isIntersecting && target.dataset.id === "1") {
					images.classList.add("show", "step-2");
					images.classList.remove("step-1", "step-3");
					}
					if (isIntersecting && target.dataset.id === "2") {
					images.classList.add("show", "step-3");
					images.classList.remove("step-1");
					}
				});
				},
				{
				threshold: [0.5],
				rootMargin: "-100px"
				}
			);
			document
				.querySelectorAll(".advantage-wrap")
				.forEach(el => observer.observe(el));

			function onIntersec(el, target) {
				target.classList.remove("low-opacity");
			}

			function onScroll(event) {
				let scrollY = window.scrollY;
				document
				.querySelector("#myexample")
				.style.setProperty("--y", `${scrollY / 45}%`);
			}
		}
	},
	mounted() {
		this.toggleBodyClass('addClass', 'home');
		this.myInitCode();
	},
	destroyed() {
		this.toggleBodyClass('removeClass', 'home');
	}
}
</script>

<style lang="scss" scoped>
@import "../style/home/app.scss";
</style>
